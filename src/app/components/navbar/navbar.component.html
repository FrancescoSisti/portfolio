<!-- Mobile Navbar -->
<app-navbar-mobile *ngIf="isMobile"></app-navbar-mobile>

<!-- Desktop Navbar -->
<nav class="nav-container" [class.nav-open]="isMenuOpen" *ngIf="!isMobile">
  <!-- Menu Button -->
  <div class="nav-controls">
    <div class="menu-button">
      <div class="button-wrapper">
        <button class="toggle" (click)="toggleMenu()" [class.active]="isMenuOpen" aria-label="Toggle Menu">
          <span class="line"></span>
          <span class="line"></span>
          <span class="line"></span>
        </button>
      </div>
    </div>
  </div>

  <!-- Navigation Experience -->
  <div class="nav-experience" [class.active]="isMenuOpen">
    <!-- Animated Background -->
    <div class="nav-background">
      <div class="gradient-sphere"></div>
      <div class="gradient-sphere-2"></div>
    </div>

    <!-- Navigation Content -->
    <div class="nav-content">
      <!-- Left Side - Menu Items -->
      <div class="menu-items">
        <div class="menu-item" *ngFor="let item of menu; let i = index" (mouseenter)="onItemHover(i)"
          [class.active]="currentRoute === item.route" #menuItem>
          <a [routerLink]="item.route" (click)="onItemClick(item.route)" [routerLinkActive]="'active'">
            <span class="item-number">0{{i + 1}}</span>
            <span class="item-text">{{item.text}}</span>
          </a>
        </div>
      </div>

      <!-- Right Side - Preview -->
      <div class="preview-container">
        <div class="preview-content">
          <div class="preview" *ngFor="let item of menu; let i = index" [class.active]="hoveredIndex === i"
            [attr.aria-hidden]="hoveredIndex !== i">
            <div class="preview-icon">
              <i [class]="item.icon"></i>
            </div>
            <div class="preview-text">
              <h3>{{item.previewTitle}}</h3>
              <p>{{item.previewDesc}}</p>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Bottom Info -->
    <div class="nav-footer">
      <div class="social-links">
        <a href="https://github.com/FrancescoSisti" target="_blank" rel="noopener noreferrer"
          aria-label="Visita il mio profilo GitHub" class="social-link">
          <i class="fab fa-github" aria-hidden="true"></i>
          <span class="sr-only">GitHub</span>
        </a>
        <a href="https://www.linkedin.com/in/francesco-sisti-21b88023a/" target="_blank" rel="noopener noreferrer"
          aria-label="Connettiti con me su LinkedIn" class="social-link">
          <i class="fab fa-linkedin-in" aria-hidden="true"></i>
          <span class="sr-only">LinkedIn</span>
        </a>
        <a href="https://www.instagram.com/_francescosisti_/" target="_blank" rel="noopener noreferrer"
          aria-label="Seguimi su Instagram" class="social-link">
          <i class="fab fa-instagram" aria-hidden="true"></i>
          <span class="sr-only">Instagram</span>
        </a>
      </div>
      <div class="nav-info">
        <p class="location">
          <i class="fas fa-map-marker-alt" aria-hidden="true"></i>
          <span>Verona, Italia</span>
        </p>
        <p class="availability">
          <span class="status-dot" aria-hidden="true"></span>
          <span>Disponibile per progetti</span>
        </p>
        <a [routerLink]="['/admin']" class="admin-link" style="font-size: 0.7rem; opacity: 0.6;">Admin</a>
      </div>
    </div>
  </div>
</nav>
