<div class="contact-mobile">
  <!-- Header -->
  <header class="header">
    <h1>Contattami</h1>
    <p>Hai un'idea? Parliamone insieme</p>
  </header>

  <!-- Quick Actions -->
  <div class="quick-actions">
    <a href="mailto:francescosisti61@gmail.com" class="action-btn email">
      <i class="fas fa-envelope"></i>
      <span>Email</span>
    </a>
    <button class="action-btn share" (click)="toggleShareOptions()">
      <i class="fas fa-share-alt"></i>
      <span>Condividi</span>
    </button>
    <a (click)="scrollToMap()" class="action-btn location">
      <i class="fas fa-map-marker-alt"></i>
      <span>Mappa</span>
    </a>
  </div>

  <!-- Contact Form -->
  <section class="form-section">
    <form (ngSubmit)="onSubmit()" #contactForm="ngForm">
      <div class="form-group">
        <input type="text" id="name" name="name" [(ngModel)]="formData.name" required placeholder="Nome"
          [class.filled]="formData.name">
      </div>

      <div class="form-group">
        <input type="email" id="email" name="email" [(ngModel)]="formData.email" required placeholder="Email"
          [class.filled]="formData.email">
      </div>

      <div class="form-group">
        <input type="text" id="subject" name="subject" [(ngModel)]="formData.subject" required placeholder="Oggetto"
          [class.filled]="formData.subject">
      </div>

      <div class="form-group">
        <textarea id="message" name="message" [(ngModel)]="formData.message" required rows="4"
          placeholder="Il tuo messaggio..." [class.filled]="formData.message"></textarea>
      </div>

      <button type="submit" [disabled]="!contactForm.form.valid || isSubmitting" [class.loading]="isSubmitting">
        <span>{{ isSubmitting ? 'Invio in corso...' : 'Invia Messaggio' }}</span>
        <i class="fas fa-paper-plane"></i>
      </button>
    </form>

    <!-- Form Messages -->
    <div class="form-messages" *ngIf="submitSuccess || submitError">
      <div class="message success" *ngIf="submitSuccess">
        <i class="fas fa-check-circle"></i>
        <p>Messaggio inviato con successo!</p>
      </div>
      <div class="message error" *ngIf="submitError">
        <i class="fas fa-exclamation-circle"></i>
        <p>Errore nell'invio. Riprova pi√π tardi.</p>
      </div>
    </div>
  </section>

  <!-- Social Links -->
  <section class="social-section">
    <h2>Seguimi sui social</h2>
    <div class="social-links">
      <a href="https://github.com/FrancescoSisti" target="_blank" class="social-link">
        <i class="fab fa-github"></i>
      </a>
      <a href="https://www.linkedin.com/in/francesco-sisti-21b88023a/" target="_blank" class="social-link">
        <i class="fab fa-linkedin-in"></i>
      </a>
      <a href="https://www.instagram.com/_francescosisti_/" target="_blank" class="social-link">
        <i class="fab fa-instagram"></i>
      </a>
    </div>
  </section>

  <!-- Map Section -->
  <section class="map-section" id="map-section-mobile">
    <div id="map-mobile"></div>
    <div class="map-overlay">
      <div class="location-info">
        <p>Corso Venezia 83, Verona</p>
        <button class="directions-btn" (click)="getDirections()">
          <i class="fas fa-directions"></i>
          Indicazioni
        </button>
      </div>
    </div>
  </section>

  <!-- Share Modal -->
  <div class="share-modal" [class.active]="showShareOptions" (click)="toggleShareOptions()">
    <div class="share-content" (click)="$event.stopPropagation()">
      <div class="share-header">
        <h3>Condividi</h3>
        <button class="close-btn" (click)="toggleShareOptions()">
          <i class="fas fa-times"></i>
        </button>
      </div>
      <div class="share-options">
        <button *ngFor="let option of shareOptions" (click)="option.action()" class="share-btn"
          [attr.data-platform]="option.name.toLowerCase()">
          <i [class]="option.icon"></i>
          <span>{{ option.name }}</span>
        </button>
      </div>
    </div>
  </div>
</div>
